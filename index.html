<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_4ff8cdd0019455f050e4d16aae4f812a {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
<link rel="icon" href="assets/image/git_img_link_map.png" type="image/x-icon" /></head>
<body>
    
    
            <div class="folium-map" id="map_4ff8cdd0019455f050e4d16aae4f812a" ></div>
        
</body>
<script>
    
    
            var map_4ff8cdd0019455f050e4d16aae4f812a = L.map(
                "map_4ff8cdd0019455f050e4d16aae4f812a",
                {
                    center: [47.0, 2.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 3,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_50bf6a545c527c38f324601e7a254f42 = L.tileLayer(
                "https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg",
                {"attribution": "Map tiles by \u003ca target=\"_blank\" href=\"http://stamen.com\"\u003eStamen Design\u003c/a\u003e, under \u003ca target=\"_blank\" href=\"http://creativecommons.org/licenses/by/3.0\"\u003eCC BY 3.0\u003c/a\u003e. Data by \u0026copy; \u003ca target=\"_blank\" href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\"_blank\" href=\"http://creativecommons.org/licenses/by-sa/3.0\"\u003eCC BY SA\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_4ff8cdd0019455f050e4d16aae4f812a);
        
    
            var marker_681abe2bb6c29605db9ba64666b8a457 = L.marker(
                [-21.65431707, -39.57000732],
                {}
            ).addTo(map_4ff8cdd0019455f050e4d16aae4f812a);
        
    
            var icon_37153fcaf97c2af7d3615301a9c527a5 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "red", "prefix": "glyphicon"}
            );
            marker_681abe2bb6c29605db9ba64666b8a457.setIcon(icon_37153fcaf97c2af7d3615301a9c527a5);
        
    
        var popup_2c64f4a1bea5e55c5872fe05f3b5d086 = L.popup({"maxWidth": 300});

        
            
                var html_7dc3667180a43005db4978355e558ddf = $(`<div id="html_7dc3667180a43005db4978355e558ddf" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term=PRJNA679304" target="_blank">PRJNA679304</a><br>Study primary focus:ecology</div>`)[0];
                popup_2c64f4a1bea5e55c5872fe05f3b5d086.setContent(html_7dc3667180a43005db4978355e558ddf);
            
        

        marker_681abe2bb6c29605db9ba64666b8a457.bindPopup(popup_2c64f4a1bea5e55c5872fe05f3b5d086)
        ;

        
    
    
            var marker_ede629769f2463af8656a2e3edcb6da2 = L.marker(
                [-21.65431707, -39.57000732],
                {}
            ).addTo(map_4ff8cdd0019455f050e4d16aae4f812a);
        
    
            var icon_6ce892a0243234f81042c49014bbf79f = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "red", "prefix": "glyphicon"}
            );
            marker_ede629769f2463af8656a2e3edcb6da2.setIcon(icon_6ce892a0243234f81042c49014bbf79f);
        
    
        var popup_2f340b56b55ad17e584d21e3b007a2cd = L.popup({"maxWidth": 300});

        
            
                var html_6631ceef2377cdb02c1418477be06564 = $(`<div id="html_6631ceef2377cdb02c1418477be06564" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term=PRJNA679304" target="_blank">PRJNA679304</a><br>Study primary focus:ecology</div>`)[0];
                popup_2f340b56b55ad17e584d21e3b007a2cd.setContent(html_6631ceef2377cdb02c1418477be06564);
            
        

        marker_ede629769f2463af8656a2e3edcb6da2.bindPopup(popup_2f340b56b55ad17e584d21e3b007a2cd)
        ;

        
    
    
            var marker_75f585b5decee1038066c376eb0e6558 = L.marker(
                [-21.65431707, -39.57000732],
                {}
            ).addTo(map_4ff8cdd0019455f050e4d16aae4f812a);
        
    
            var icon_76c6f1f28125a18030066aa799379a0d = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "red", "prefix": "glyphicon"}
            );
            marker_75f585b5decee1038066c376eb0e6558.setIcon(icon_76c6f1f28125a18030066aa799379a0d);
        
    
        var popup_fbcb32fb3347817b405ef44e058f16b3 = L.popup({"maxWidth": 300});

        
            
                var html_608d0ef3bee141a04ded58f7152ea2ca = $(`<div id="html_608d0ef3bee141a04ded58f7152ea2ca" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term=PRJNA679304" target="_blank">PRJNA679304</a><br>Study primary focus:ecology</div>`)[0];
                popup_fbcb32fb3347817b405ef44e058f16b3.setContent(html_608d0ef3bee141a04ded58f7152ea2ca);
            
        

        marker_75f585b5decee1038066c376eb0e6558.bindPopup(popup_fbcb32fb3347817b405ef44e058f16b3)
        ;

        
    
    
            var marker_166187974334cf984b5810e0e83f1474 = L.marker(
                [-21.65431707, -39.57000732],
                {}
            ).addTo(map_4ff8cdd0019455f050e4d16aae4f812a);
        
    
            var icon_d32092b4d60787a2da8899feea9a0604 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "red", "prefix": "glyphicon"}
            );
            marker_166187974334cf984b5810e0e83f1474.setIcon(icon_d32092b4d60787a2da8899feea9a0604);
        
    
        var popup_f9e77dbd1077363b0ad0dd5241c8e587 = L.popup({"maxWidth": 300});

        
            
                var html_2665be730a6f576bf6f0de5ed2951a45 = $(`<div id="html_2665be730a6f576bf6f0de5ed2951a45" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term=PRJNA679304" target="_blank">PRJNA679304</a><br>Study primary focus:ecology</div>`)[0];
                popup_f9e77dbd1077363b0ad0dd5241c8e587.setContent(html_2665be730a6f576bf6f0de5ed2951a45);
            
        

        marker_166187974334cf984b5810e0e83f1474.bindPopup(popup_f9e77dbd1077363b0ad0dd5241c8e587)
        ;

        
    
</script>
</html>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@14.7.0/distribute/nouislider.min.css">
<style>
    .awesome-marker-shadow {
        display: none !important;
    }
</style>
<div id="depth-slider" style="margin-top: 50px; width: 80%; margin-left: 10%;"></div>
<p id="slider-values" style="text-align: center;"></p>
<div id="button-container" style="text-align: center; margin-top: 20px;">
    <button id="red-button" style="background-color: red; color: white;">Toggle Red Markers</button>
    <button id="gray-button" style="background-color: gray; color: white;">Toggle Gray Markers</button>
    <button id="green-button" style="background-color: green; color: white;">Toggle Green Markers</button>
</div>
<script src="https://cdn.jsdelivr.net/npm/nouislider@14.7.0/distribute/nouislider.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const depths = ["2631", "2631", "2631", "2631"];
        const min_val = 2631;
        const max_val = 2631;
        const markers = document.querySelectorAll(".leaflet-interactive");
        markers.forEach((marker, idx) => {
            const depth = depths[idx];
            let valueType;
            if (depth === "unknown") {
                valueType = 'unknown';
            } else if (depth === "nan") {
                valueType = 'none';
            } else {
                valueType = 'float';
            }
            marker.setAttribute('data-depth', depth);
            marker.setAttribute('data-value-type', valueType);
        });
        
        var slider = document.getElementById('depth-slider');
        noUiSlider.create(slider, {
            start: [2631, 2631],
            connect: true,
            range: {
                'min': 2631,
                'max': 2631
            },
            tooltips: [true, true],
            format: {
                to: function(value) {
                    return value.toFixed(1);
                },
                from: function(value) {
                    return value;
                }
            }
        });
        
        slider.noUiSlider.on('update', function (values, handle) {
            const min_val = parseFloat(values[0]);
            const max_val = parseFloat(values[1]);
            markers.forEach(marker => {
                const depth = parseFloat(marker.getAttribute('data-depth'));
                if (depth < min_val || depth > max_val) {
                    marker.style.display = 'none';
                } else {
                    marker.style.display = '';
                }
            });
            document.getElementById("slider-values").innerHTML = "Depth Range: " + values.map(val => val + "m").join(" to ");
        });
        
        const redButton = document.getElementById('red-button');
        const grayButton = document.getElementById('gray-button');
        const greenButton = document.getElementById('green-button');
        
        let noneVisible = true;
        let unknownVisible = true;
        let floatVisible = true;
        
        function toggleMarkers(valueType, isVisible) {
            markers.forEach(marker => {
                const value = marker.getAttribute('data-value-type');
                if (value === valueType) {
                    marker.style.display = isVisible ? '' : 'none';
                }
            });
        }
        
        redButton.addEventListener('click', function() {
            noneVisible = !noneVisible;
            toggleMarkers('none', noneVisible);
        });
        
        grayButton.addEventListener('click', function() {
            unknownVisible = !unknownVisible;
            toggleMarkers('unknown', unknownVisible);
        });
        
        greenButton.addEventListener('click', function() {
            floatVisible = !floatVisible;
            toggleMarkers('float', floatVisible);
        });
    });
</script>
